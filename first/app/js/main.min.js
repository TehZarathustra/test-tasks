!function(){var t={getData:function(a,n){$("input.type-filter").attr("disabled",!0),$(".loading").fadeIn(),void 0===n&&(n="all"),$.getJSON(a).success(function(a){t.populateRows(a,n),"number"!=typeof n&&t.init.update()}).complete(function(){$("input.type-filter").removeAttr("disabled"),$(".loading").fadeOut()})},populateRows:function(t,a){$.each(t.flights,function(t,n){if("all"===a||a==n.type){var i="<tr data-id='"+n.id+"' data-type='"+n.type+"' data-href='#modal'>\n						<td class='row-type'>\n							<div class='"+n.type+"-icon'></div>\n						</td>\n						<td class='row-flight'><b>"+n.flight+"</b></td>\n						<td class='row-company'><span class='company'>"+n.company+" </span><span class='logo'><img src='"+n.companyLogo+"' alt='logo'></span></td>\n						<td class='row-craft'><span class='craft-full'>"+n.craft+"</span><span class='craft-short'>"+n.craftShort+"</span></td>\n						<td class='row-destination'>"+n.destinationCity+"<span class='destination-airport'> / "+n.destinationAirPort+"</span></td>\n						<td class='row-time'>"+n.arrivalTime+"</td>\n						<td class='row-status status-"+n.statusType+"'>"+n.status+"</td>\n						<td class='row-other'>"+n.other+"</td>\n					</tr>";$(i).appendTo(".flightTable tbody")}else if(a==n.id){var o="<tr><th>Рейс</th><td>"+n.flight+" за "+n.date+"</td></tr>\n					<tr><th>Плановое время вылета из аэропорта "+n.startPointAirPort+"</th><td>"+n.takeoffTime+"</td></tr>\n					<tr><th>Тип воздушного судна</th><td>"+n.craft+"</td></tr>\n					<tr><th>Авиакомпания</th><td>"+n.company+"</td></tr>\n					<tr><th>Статус рейса</th><td>"+n.status+"</td></tr>\n					<tr><th>Примечание</th><td>"+n.other+"</td></tr>\n					<tr><th>Плановый маршрут</th><td>"+n.startPointCity+"("+n.startPointAirPort+")->"+n.destinationCity+"("+n.destinationAirPort+")</td></tr>\n					<tr><th>Плановое время начала посадки</th><td>"+n.landingTime+"</td></tr>\n					<tr><th>Контроль безопасности</th><td>"+n.landingSecurity+"</td></tr>\n					<tr><th>Выход</th><td>"+n.landingExit+"</td></tr>";$(".modal-content tbody").html(""),$(o).appendTo(".modal-content tbody")}})},highlightRows:function(){var t=$(".flightTable td");t.hover(function(){var a=$(this),n=a.index();a.parent().find("td").addClass("hover"),t.filter(":nth-child("+(n+1)+")").addClass("hover")},function(){t.removeClass("hover")})},linkRows:function(){$(".flightTable tbody tr").click(function(){var a=$(this);t.getData("data.json",a.data("id")),window.document.location=a.data("href")})},checkBoxes:function(){$('input[name="arrival"],input[name="departure"]').click(function(){$(".flightTable tbody").html("");var a=$(".checkboxes input:checkbox:checked").map(function(){return this.name}).get();1==a.length?t.getData("data.json",a):2==a.length?t.getData("data.json"):$(".flightTable tbody").html("")})},init:{start:function(){jQuery(document).ready(function(){t.getData("data.json","departure"),$(".ts-table-section").floatThead(),t.checkBoxes()})},update:function(){t.linkRows(),t.highlightRows()}}};t.init.start()}(jQuery);